<!DOCTYPE html>
<html lang="eu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eskuraerako Formularioa</title>
    <style>
        #erosi-botoia {
            display: none;
        }

        #emaitza {
            margin-top: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <h2>Eskuraerako Formularioa</h2>
    <form id="eskura-form" action="#" method="POST">
        <div>
            <label for="izen-abizena">Izena Abizena:</label>
            <input type="text" id="izen-abizena" name="izen-abizena" required>
        </div>
        <div>
            <label for="emaila">Emaila:</label>
            <input type="email" id="emaila" name="emaila" placeholder="posta@emaila.com" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" required>
        </div>
        <div>
            <label for="telefono-zenbakia">Telefono Zenbakia:</label>
            <input type="tel" id="telefono-zenbakia" name="telefono-zenbakia" required>
        </div>
        <div>
            <label for="jaiotze-data">Jaiotze Data:</label>
            <input type="date" id="jaiotze-data" name="jaiotze-data" required>
        </div>
        <div>
            <label for="NAN-zenbakia">NAN Zenbakia:</label>
            <input type="text" id="NAN-zenbakia" name="NAN-zenbakia" required>
        </div>
        <div>
            <label for="sarrera">Sarrera Eskuragarriak:</label>
            <select id="sarrera" name="sarrera" required>
                <option value="28" id="Sen Senra">Sen Senra (28€)</option>
                <option value="18" id="Chill Mafia">Chill Mafia (18€)</option>
                <option value="15" id="Merina Gris">Merina Gris (15€)</option>
            </select>
        </div>
        <div>
            <label for="kantitatea">Kantitatea:</label>
            <input type="number" id="kantitatea" name="kantitatea" min="1" value="1" required>
        </div>
        <button type="button" onclick="erosi()">Erosi</button>
    </form>

    <div id="emaitza">
        <h3>Erosketaren Emaitza:</h3>
        <p id="emaitza-1">Consolan (labur labur)</p>
        <div id="emaitza-2" style="display: none;">
            <table border="1">
                <tr>
                    <th>Eskuragarriak</th>
                    <th>Prezioa</th>
                </tr>
                <tr>
                    <td id="eskuragarriak"></td>
                    <td id="prezioa"></td>
                </tr>
            </table>
        </div>
    </div>

    <script>
function erosi() {
    let nanZenbakia = document.getElementById("NAN-zenbakia").value;
    let sarrera = document.getElementById("sarrera").value;
    let kantitatea = document.getElementById("kantitatea").value;

    if (nanZenbakia && sarrera && kantitatea > 0) {
        let emaitza1 = document.getElementById("emaitza-1");
        let emaitza2 = document.getElementById("emaitza-2");
        let eskuragarriakElementua = document.getElementById(sarrera);
        let eskuragarriak = eskuragarriakElementua ? eskuragarriakElementua.textContent : null;
        let prezioa = parseInt(sarrera, 10) * parseInt(kantitatea, 10);

        if (emaitza1 && emaitza2 && eskuragarriak !== null && !isNaN(prezioa)) {
            emaitza1.style.display = "none";
            emaitza2.style.display = "block";
            document.getElementById("eskuragarriak").textContent = eskuragarriak;
            document.getElementById("prezioa").textContent = prezioa + "€";
        } else {
            console.error("Elemento faltante o valor inválido:");
            console.log("emaitza1:", emaitza1);
            console.log("emaitza2:", emaitza2);
            console.log("eskuragarriak:", eskuragarriak);
            console.log("prezioa:", prezioa);
        }
    } else {
        alert("Mesedez, NAN zenbakia, sarrera eta kantitatea zehaztu.");
    }
}
    </script>
</body>
</html>
